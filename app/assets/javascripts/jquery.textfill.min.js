/*
  textfill
 @name      jquery.textfill.js
 @author    Russ Painter
 @author    Yu-Jie Lin
 @version   0.3.4
 @date      2013-04-10
 @copyright (c) 2012-2013 Yu-Jie Lin
 @copyright (c) 2009 Russ Painter
 @license   MIT License
 @homepage  https://github.com/jquery-textfill/jquery-textfill
 @example   http://jquery-textfill.github.io/jquery-textfill/index.html
*/
(function(f){f.fn.textfill=function(p){function l(){a.debug&&!("undefined"==typeof console||"undefined"==typeof console.debug)&&console.debug.apply(console,arguments)}function m(c,b,a,h,e,j){function d(b,a){var c=" / ";b>a?c=" > ":b==a&&(c=" = ");return c}l(c+"font: "+b.css("font-size")+", H: "+b.height()+d(b.height(),a)+a+", W: "+b.width()+d(b.width(),h)+h+", minFontPixels: "+e+", maxFontPixels: "+j)}function n(a,b,g,h,e,j,d,k){for(m(a+": ",b,e,j,d,k);d<k-1;){var f=Math.floor((d+k)/2);b.css("font-size",
f);if(g.call(b)<=h){if(d=f,g.call(b)==h)break}else k=f;m(a+": ",b,e,j,d,k)}b.css("font-size",k);g.call(b)<=h&&(d=k,m(a+"* ",b,e,j,d,k));return d}var a=jQuery.extend({debug:!1,maxFontPixels:40,minFontPixels:4,innerTag:"span",widthOnly:!1,callback:null,complete:null,explicitWidth:null,explicitHeight:null},p);this.each(function(){var c=f(a.innerTag+":visible:first",this),b=a.explicitHeight||f(this).height(),g=a.explicitWidth||f(this).width(),h=c.css("font-size");l("Opts: ",a);l("Vars: maxHeight: "+b+
", maxWidth: "+g);var e=a.minFontPixels,j=0>=a.maxFontPixels?b:a.maxFontPixels,d=void 0;a.widthOnly||(d=n("H",c,f.fn.height,b,b,g,e,j));e=n("W",c,f.fn.width,g,b,g,e,j);a.widthOnly?c.css("font-size",e):c.css("font-size",Math.min(d,e));l("Final: "+c.css("font-size"));(c.width()>g||c.height()>b)&&c.css("font-size",h);a.callback&&a.callback(this)});a.complete&&a.complete(this);return this}})(jQuery);
